{% extends "base.html" %}
{% block title %}–ì—Ä—É–ø–ø—ã –∞–ª–µ—Ä—Ç–æ–≤ ‚Ä¢ Server Check{% endblock %}
{% block content %}
  <div class="page-header">
    <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏ –∞–ª–µ—Ä—Ç–æ–≤</h1>
    <div class="page-actions">
      <a href="/alerts" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ –∞–ª–µ—Ä—Ç–∞–º</a>
    </div>
  </div>

  <div class="card" style="margin-bottom: 10px;">
    <h3 style="margin-left: 8px;">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É –∞–ª–µ—Ä—Ç–æ–≤</h3>
    <form method="post" action="/alert-groups" style="padding-top: 10px; padding-bottom: 10px">
      <div class="form-row" style="margin-right: 10px; margin-left: 10px">
        <div class="form-group">
          <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</label>
          <input name="name" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã" required />
        </div>
        <div class="form-group">
          <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
          <input name="description" class="form-control" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)" />
        </div>
      </div>
      <button type="submit" class="btn btn-primary" style="margin-left: 8px;">–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</button>
    </form>
  </div>

  <div class="table-container">
    <h3 style="margin-left: 8px;">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥—Ä—É–ø–ø—ã –∞–ª–µ—Ä—Ç–æ–≤</h3>
    <table class="servers-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
          <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
          <th>–°—Ç–∞—Ç—É—Å</th>
          <th>–°–æ–∑–¥–∞–Ω–æ</th>
          <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody>
        {% for group in groups %}
        <tr>
          <td>{{ group.id }}</td>
          <td><strong>{{ group.name }}</strong></td>
          <td>{{ group.description or '‚Äî' }}</td>
          <td>
            <span class="status-badge {{ 'status-online' if group.enabled else 'status-offline' }}">
              {{ '–í–∫–ª—é—á–µ–Ω–∞' if group.enabled else '–û—Ç–∫–ª—é—á–µ–Ω–∞' }}
            </span>
          </td>
          <td>
            <span class="timestamp">{{ group.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
          </td>
          <td>
            <div class="action-buttons">
              <a href="/alerts?group_id={{ group.id }}" class="btn btn-sm btn-primary">üëÅ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–ª–µ—Ä—Ç–æ–≤</a>
              <form method="post" action="/alert-groups/{{ group.id }}/delete" style="display:inline;">
                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É {{ group.name }}?')">üóë –£–¥–∞–ª–∏—Ç—å</button>
              </form>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% if not groups %}
  <div class="empty-state">
    <p>–ì—Ä—É–ø–ø—ã –∞–ª–µ—Ä—Ç–æ–≤ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –≥—Ä—É–ø–ø—É –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–∞—à–∏—Ö –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–æ–≤.</p>
  </div>
  {% endif %}
{% endblock %}
