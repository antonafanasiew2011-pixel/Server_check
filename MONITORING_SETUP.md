# üîß –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Ä—Ç–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤

## üìã –û–±–∑–æ—Ä

Server Check —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- **–ü–æ—Ä—Ç–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ TCP –ø–æ—Ä—Ç–æ–≤
- **–°–µ—Ä–≤–∏—Å–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ systemctl

## üîå –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ä—Ç–æ–≤

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–µ—Ä–≤–µ—Ä—ã" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä ‚Üí "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"

2. **–î–æ–±–∞–≤—å—Ç–µ –ø–æ—Ä—Ç—ã –≤ –ø–æ–ª–µ "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ä—Ç–æ–≤"**:
   ```
   ["80", "443", "3306", "6379", "5432"]
   ```

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

#### –í–µ–±-—Å–µ—Ä–≤–µ—Ä
```json
["80", "443"]
```

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```json
["3306", "5432", "6379"]
```

#### –ü–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
```json
["25", "587", "993", "995"]
```

#### –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫
```json
["22", "80", "443", "3306", "5432", "6379"]
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É –ø–æ—Ä—Ç—É —á–µ—Ä–µ–∑ TCP socket
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (–æ—Ç–∫—Ä—ã—Ç/–∑–∞–∫—Ä—ã—Ç)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö
- –°–æ–∑–¥–∞–µ—Ç –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–∏—Å–æ–≤

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞**
2. **–î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –ø–æ–ª–µ "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–∏—Å–æ–≤"**:
   ```
   ["nginx", "mysql", "redis"]
   ```

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

#### –í–µ–±-—Å–µ—Ä–≤–µ—Ä
```json
["nginx", "apache2"]
```

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```json
["mysql", "postgresql", "redis-server"]
```

#### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
```json
["ssh", "cron", "rsyslog"]
```

#### Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```json
["docker", "containerd"]
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É `systemctl is-active <service>`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ (active/inactive)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö
- –°–æ–∑–¥–∞–µ—Ç –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –í –¥–∞—à–±–æ—Ä–¥–µ
- –°—Ç–∞—Ç—É—Å –ø–æ—Ä—Ç–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞
- JSON –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–æ–ª—è—Ö `ports_status` –∏ `services_status`

### –í API
```json
{
  "latest_metric": {
    "ports_status": "{\"80\": true, \"443\": true, \"3306\": false}",
    "services_status": "{\"nginx\": true, \"mysql\": true, \"redis\": false}"
  }
}
```

### –í Prometheus
```
server_ports_status{server_id="1",hostname="web1",port="80"} 1
server_services_status{server_id="1",hostname="web1",service="nginx"} 1
```

## üö® –°–æ–∑–¥–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤

### –ê–ª–µ—Ä—Ç—ã –Ω–∞ –ø–æ—Ä—Ç—ã
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ê–ª–µ—Ä—Ç—ã" ‚Üí "–°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ"
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
3. –ú–µ—Ç—Ä–∏–∫–∞: `reachable` (–¥–ª—è –æ–±—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞)
4. –£—Å–ª–æ–≤–∏–µ: `!= 1` (–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)

### –ê–ª–µ—Ä—Ç—ã –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã
1. –°–æ–∑–¥–∞–π—Ç–µ –∞–ª–µ—Ä—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫—É `reachable`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack/Discord

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Ä—Ç–æ–≤
- TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ
- –ü–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- **–¢–æ–ª—å–∫–æ –¥–ª—è Linux** —Å–∏—Å—Ç–µ–º
- –î–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–µ `systemctl`
- –ü—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `systemctl is-active`

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞
telnet server_ip 80
nc -zv server_ip 80
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤—Ä—É—á–Ω—É—é
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl is-active nginx
systemctl status nginx
```

### –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ JSON —Ñ–æ—Ä–º–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ systemctl

## üìù –ü—Ä–∏–º–µ—Ä—ã JSON

### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```json
// –ü–æ—Ä—Ç—ã
["80", "443", "3306"]

// –°–µ—Ä–≤–∏—Å—ã  
["nginx", "mysql", "redis"]

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
["22", "80", "443"]
["ssh", "nginx", "mysql"]
```

### –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```json
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–µ JSON
80, 443, 3306

// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–µ –º–∞—Å—Å–∏–≤
{"ports": ["80", "443"]}

// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–µ —Å—Ç—Ä–æ–∫–∏
[80, 443, 3306]
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü–æ—Ä—Ç—ã
- –ù–∞—á–Ω–∏—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ (80, 443, 22)
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ—Ä—Ç—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
- –ù–µ –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ—Ä—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –°–µ—Ä–≤–∏—Å—ã
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–π —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ systemd

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –±–æ–ª–µ–µ 10-15 –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ù–µ –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –±–æ–ª–µ–µ 5-10 —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON —Ñ–æ—Ä–º–∞—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã —É–∫–∞–∑–∞–Ω—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–∏—Å—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ Linux —Å–∏—Å—Ç–µ–º–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å systemctl
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–π —Å–µ—Ä–≤–∏—Å–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –¥–µ–π—Å—Ç–≤–∏–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ—Ä—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –¥–∞—à–±–æ—Ä–¥–µ
- ‚úÖ –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF –æ—Ç—á–µ—Ç—ã

–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º! üéâ
